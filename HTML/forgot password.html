
<!DOCTYPE html>
<html lang="en">
<head>
  <title>Forgot Password</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">

<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Lato:wght@900&display=swap" rel="stylesheet">


  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>

 <style>
    body {
      font-family: "Lato", sans-serif;
      color: #1D2671";
    }
    </style>

</head>
<body>
    <script>
        $(document).ready(()=>{
            localStorage.setItem("logged", "false");
        });
        function postCall(){
        
  var formData = {aname:$("#aname").val(),apass:$("#apass").val(),sques:$("#sques").val(),sans:$("#sans").val()}; //Array 
 console.log(formData);
$.ajax({
    url : "http://localhost:8080/admin",
    type: "POST",
    data : formData,
    success: function(data, textStatus, jqXHR)
    {
        //data - response from server
        console.log(data);
console.log(data+" "+textStatus);
alert("Password has been changed successfully.");
setTimeout(()=>{window.location.href ="./Login.html"},1000);
    },
    error: function (jqXHR, textStatus, errorThrown)
    {
 
    }});
        
        


        
        
        
        
        
        
            // var formData = '{sname:"xx",reg:"ad"}';
        // console.log(formData);
   
        



    //   $.ajax({
    //   type: 'POST',
    //   url: "http://localhost:8080/student",
    //   data: formData,
      
    //   success: function(resultData) 
    //     {    
    //        console.log(resultData);
    //     }
    //     });
        }



        function validatePassword() {
    var p = document.getElementById('apass').value,
        errors = [];
    if (p.length < 8) {
        errors.push("Your password must be at least 8 characters"); 
    }
    if (p.search(/[a-z]/i) < 0) {
        errors.push("Your password must contain at least one letter.");
    }
    if (p.search(/[0-9]/) < 0) {
        errors.push("Your password must contain at least one digit."); 
    }
    if (errors.length > 0) {
        alert(errors.join("\n"));
        return false;
    }
    return true;
}
    </script>
<div class="row"><div class=" col-md-4">
<img style="position:relative" src="forgot.png" alt="forgotpic" width="800" height="600">
</div>

<div class=" col-md-3">
</div>

<div class=" col-md-3">    
<div class="login-form">
    <form>
        <h2 class="text-center" style="color: #1D2671">Forgot Password</h2>       
        <div class="form-group">
            <input type="text" class="form-control" placeholder="Admin Name" required="required" id="aname">
        </div>
        <br>
        <div class="form-group">
            <input type="password" class="form-control" placeholder="Password" required="required" id="apass" onblur=" validatePassword()">
        </div>
        <br>
        <div class="form-group">
            <input type="text" class="form-control" placeholder="Security Question" required="required" id="sques">
        </div>
        <br>
        <div class="form-group">
            <input type="text" class="form-control" placeholder="Security Answer" required="required" id="sans">
        </div>
        <br>
       <a href ="./Login.html">Go Back</a>
        <div class="form-group">
            
        </div>
       
    </form>    
    <button  class="btn btn-warning btn-block" onclick="postCall()">Change Password</button>
</div>
</div>
<div class=" col-md-4"></div></div>

</body>
</html>